{
    "absolute_value": 0,
    "align_labels_right": 0,
    "creation": "2021-06-29 11:37:43.542053",
    "custom_format": 1,
    "default_print_language": "es",
    "disabled": 0,
    "doc_type": "Payment Entry",
    "docstatus": 0,
    "doctype": "Print Format",
    "font": "Default",
    "html": "<section style=\"border:1px solid black;margin-top: 1px;padding: 8px;\">\n\t<div class=\"row\">\n\t\t<div class=\"col-xs-6\">\n\t\t\t{% set source = frappe.db.get_value(\"Company\", doc.company, \"company_logo\") %}\n\t\t\t{% if source %}<img src=\"{{ source }}\" style=\"height:80px;\"><br><br>{% endif %}\n\t\t\t<h5>M\u00e9todo de Pago: <b>{% if doc.mode_of_payment %}{{ doc.mode_of_payment }}{% else %}{% endif %}</b></h5>\n\t\t</div>\n\t\t<div class=\"col-xs-6 text-right\">\n\t\t\t<h3>{% if doc.payment_type == 'Pay' %} ORDEN DE PAGO {% else %} RECIBO DE PAGO {% endif %}</h3>\n\t\t\t<h6><b>N\u00famero:</b> {{ doc.name }}</h6>\n\t\t\t<h6><b>Fecha:</b> {{ frappe.utils.formatdate(doc.posting_date, 'dd-MM-Y') }}</h6>\n\t\t</div>\n\t</div>\n</section>\n<section style=\"border:1px solid black;margin-top: 1px;padding: 8px;\">\n\t<div class=\"row\">\n\t\t<div class=\"col-xs-6\">\n\t\t\t{% if doc.payment_type == \"Pay\" %}\n\t\t\t<p><b>Proveedor:</b> {{ doc.party }}</p>\n\t\t\t{% else %}\n\t\t\t<p><b>Cliente:</b> {{ doc.party }}</p>\n\t\t\t{% endif %}\n\t\t\t<p><b>Domicilio:</b>\n\t\t\t{% set address = frappe.get_all(\"Address\", filters=[[\"Dynamic Link\", \"link_doctype\", \"=\", doc.party_type], [\"Dynamic Link\", \"link_name\", \"=\", doc.party], [\"Address\", \"is_primary_address\", \"=\", 1]], fields=['*']) %}\n\t\t\t{% if address %}\n\t\t\t\t{% set address_as_dict = address[0] %}\n\t\t\t\t{{ address_as_dict.address_line1 }} {{ address_as_dict.jurisdiccion or '' }} {{ address_as_dict.city or '' }}\n\t\t\t{% endif %} </p>\n\t\t</div>\n\t\t<div class=\"col-xs-6\">\n\t\t\t<p><b>CUIT:</b> {{ frappe.db.get_value(doc.party_type, doc.party, \"tax_id\") }}</p>\n\t\t</div>\n\t</div>\n</section>\n\n<table class=\"table table-condensed\">\n\t<thead>\n\t\t<th>Comprobante</th>\n\t\t<th>Vencimiento</th>\n\t\t<th>Total</th>\n\t\t<th>Cancelado</th>\n\t\t<th>Restante</th>\n\t</thead>\n\t<tbody>\n\t\t{% for reference in doc.references %}\n\t\t<tr>\n\t\t\t<td>{% if doc.payment_type == 'Pay' %} {{ reference.bill_no }} {% else %} {{ reference.reference_name }} {% endif %}</td>\n\t\t\t<td>{{ frappe.utils.formatdate(reference.due_date, 'dd-MM-Y') }}</td>\n\t\t\t<td>{{ frappe.utils.fmt_money(reference.total_amount|abs, 2, doc.currency) }} </td>\n\t\t\t<td>{{ frappe.utils.fmt_money(reference.allocated_amount|abs, 2, doc.currency) }} </td>\n\t\t\t<td>{{ frappe.utils.fmt_money(reference.outstanding_amount|abs, 2, doc.currency) }} </td>\n\t\t</tr>\n\t{% endfor %}\n\t</tbody>\n</table>\n<p style=\"text-align: right;padding-right: 15px;\"><b>TOTAL COMPROBANTES: $ {{doc.total_allocated_amount}}</b></p>\n<h6 class=\"text-center\">CHEQUES</h6>\n<table class=\"table table-condensed\">\n\t<thead>\n\t\t<th>N\u00ba Cheque</th>\n\t\t<th>Emisi\u00f3n</th>\n\t\t<th>Vencimiento</th>\n\t\t<th>Banco</th>\n\t\t<th>Importe</th>\n\t</thead>\n\t<tbody>\n\t\t{% for cheque in doc.cheques %}\n\t\t\t{% set cheque = frappe.get_doc(\"Cheque\", cheque.cheque) %}\n\t\t\t<tr>\n\t\t\t\t<td>{{ cheque.nro_de_cheque }}</td>\n\t\t\t\t<td></td>\n\t\t\t\t<td>{{ frappe.utils.formatdate(cheque.fecha_de_pago, 'dd-MM-Y') }}</td>\n\t\t\t\t<td>{{ cheque.banco }}</td>\n\t\t\t\t<td>$ {{ cheque.importe }}</td>\n\t\t\t</tr>\n\t\t{% endfor %}\n\t</tbody>\n</table>\n<table class=\"table table-condensed\">\n\t<thead>\n\t\t<th>Retencion</th>\n\t\t<th>Tipo</th>\n\t\t<th>Fecha</th>\n\t\t<th>Importe</th>\n\t</thead>\n\t<tbody>\n\t\t{% for retencion in doc.retenciones %}\n\t\t<tr>\n\t\t\t<td>{% if doc.payment_type == 'Pay' %} {{ frappe.db.get_value('Retencion', retencion['retencion_name'], 'name') }} {% else %} {{ retencion.numero or ''}} {% endif %}</td>\n\t\t\t<td>{{ retencion.retencion }}</td>\n\t\t\t<td>{{ frappe.db.get_value('Retencion', retencion['retencion_name'], 'fecha') }}</td>\n\t\t\t<td>$ {{ frappe.utils.fmt_money(retencion.monto|abs, 2, doc.currency) }}</td>\n\t\t</tr>\n\t\t{% endfor %}\n\t</tbody>\n</table>\n<section style=\"padding: 8px;\">\n\t<div class=\"row\">\n\t\t<div class=\"col-xs-4 col-xs-offset-8\">\n\t\t\t<p style=\"text-align: center; border:1px solid black;\"><b>TOTAL PAGADO: $ {{ frappe.utils.fmt_money(doc.paid_amount|abs, 2, doc.currency) }}</b></p>\n\t\t</div>\n\t</div>\n</section>\n<br>\n<p>Comentarios:</p>\n<p>---------------------------------------------------------------------------</p>\n<br><br><br>\n<p style=\"text-align: right;padding-right: 15px;\">__________________________ </p>\n<p style=\"text-align: right;padding-right: 15px;\">Firma y Aclaraci\u00f3n </p>\n\n{% if doc.payment_type == \"Pay\" %}\n{% if doc.retenciones %}\n\t<div class=\"page-break\"></div>\n{% endif %}\n{% for retencion in doc.retenciones %}\n\t{% set retencion = frappe.get_doc(\"Retencion\", retencion.retencion_name) %}\n\t{% set impuesto_de_retencion = frappe.get_doc(\"Impuesto de Retencion\", retencion.retencion) %}\n\t{% set tipo_de_calculo_iibb = impuesto_de_retencion.get_tipo_de_calculo_iibb() %}\n\t{% if retencion.categoria == \"Ganancias\" %}\n\t\t<section>\n\t\t\t<div class=\"row\" style=\"border-bottom: 1px solid black;padding-bottom: 3%;\">\n\t\t\t\t<div class=\"col-xs-12\">\n\t\t\t\t\t<h2>Constancia de Retenci\u00f3n</h2>\n\t\t\t\t\t<p><b>Certificado N\u00ba:</b> {{ retencion.name }}</p>\n\t\t\t\t\t<p><b>Date:</b> {{ retencion.fecha }}</p>\n\t\t\t\t</div>\t\n\t\t\t</div>\n\t\t</section>\n\t{% else %}\n\t\t{%if tipo_de_calculo_iibb == \"ARBA\"%}\n\t\t\t<section>\n\t\t\t\t<div class=\"row\" style=\"border-bottom: 1px solid black;padding-bottom: 3%;\">\n\t\t\t\t\t<div class=\"col-xs-12\">\n\t\t\t\t\t\t<h3>IMPUESTO SOBRE LOS INGRESOS BRUTOS</h3>\n\t\t\t\t\t\t<h5>Comprobante de Retenci\u00f3n</h5>\n\t\t\t\t\t\t<p><b>Certificado N\u00ba:</b> {{ retencion.name.split(\"-\")[-1] }}</p>\n\t\t\t\t\t\t<p><b>Fecha:</b> {{ retencion.fecha }}</p>\n\t\t\t\t\t</div>\t\n\t\t\t\t</div>\n\t\t\t</section>\n\t\t{% else %}\n\t\t\t<section>\n\t\t\t\t<div class=\"row\" style=\"border-bottom: 1px solid black;padding-bottom: 3%;\">\n\t\t\t\t\t<div class=\"col-xs-12\">\n\t\t\t\t\t\t<h3>IMPUESTO SOBRE {{ impuesto_de_retencion.categoria|upper }}</h3>\n\t\t\t\t\t\t<h3>Constancia de Retenci\u00f3n</h3>\n\t\t\t\t\t\t<p><b>Certificado N\u00ba:</b> {{ retencion.name }}</p>\n\t\t\t\t\t\t<p><b>Fecha:</b> {{ retencion.fecha }}</p>\n\t\t\t\t\t</div>\t\n\t\t\t\t</div>\n\t\t\t</section>\n\t\t{% endif %}\n\t{% endif %}\n\t\t<section>\n\t\t\t<div class=\"row\">\n\t\t\t\t<div class=\"col-xs-12\">\n\t\t\t\t\t<h4>A - Datos del Agente de Retenci\u00f3n</h4>\n\t\t\t\t\t<br>\n\t\t\t\t\t{% set company = frappe.get_doc(\"Company\", retencion.company) %}\n\t\t\t\t\t<p><b>Apellido y Nombre o Denominaci\u00f3n:</b> {{ company.razon_social }}</p>\n\t\t\t\t\t\n\t\t\t\t\t<p><b>CUIT N\u00ba:</b> {{ company.cuit }}</p>\n\t\t\t\t\t{%if tipo_de_calculo_iibb != \"ARBA\"%}\n\t\t\t\t\t\t{% set address = frappe.get_all('Address', filters={'is_your_company_address': 1}, fields=['name', 'address_line1', 'city', 'jurisdiccion']) %}\n\t\t\t\t\t\t<p><b>Domicilio:</b>\n\t\t\t\t\t\t{% if address %}\n\t\t\t\t\t\t\t{% set address_as_dict = address[0] %}\n\t\t\t\t\t\t\t{{ address_as_dict.address_line1 }} {{ address_as_dict.city or '' }} {{ address_as_dict.jurisdiccion or '' }}\n\t\t\t\t\t\t{% endif %}</p>\n\n\t\t\t\t\t{% endif %}\n\t\t\t\t\t{% if retencion.categoria == \"Ingresos Brutos\" %}\n\t\t\t\t\t<p><b>N\u00ba Agent de Retenci\u00f3n IIBB:</b> {{ frappe.db.get_value(\"Company\", doc.company, \"iibb\") }}</p>\t\n\t\t\t\t\t{% endif %}\t\t\t\t\n\t\t\t\t\t<br>\n\t\t\t\t\t<h4>B - Datos del Sujeto Retenido</h4>\n\t\t\t\t\t<br>\n\t\t\t\t\t{% set payment = doc %}\n\t\t\t\t\t<p><b>Apellido y Nombre o Denominaci\u00f3n:</b> {{ payment.party }}</p>\n\t\t\t\t\t{% set clisup = frappe.get_doc(payment.party_type, payment.party) %}\n\t\t\t\t\t<p><b>CUIT N\u00ba:</b> {{clisup.tax_id}}</p>\n\t\t\t\t\t<p><b>Domicilio:</b> {% set address = frappe.get_all(\"Address\", filters=[[\"Dynamic Link\", \"link_doctype\", \"=\", payment.party_type], [\"Dynamic Link\", \"link_name\", \"=\", payment.party], [\"Address\", \"is_primary_address\", \"=\", 1]], fields=['*']) %}\n\t\t\t\t\t{% if address %}\n\t\t\t\t\t\t{% set address_as_dict = address[0] %}\n\t\t\t\t\t\t{{ address_as_dict.address_line1 }} {{ address_as_dict.city or '' }} {{ address_as_dict.jurisdiccion or '' }}\n\t\t\t\t\t{% endif %}</p>\n\t\t\t\t\t<br>\n\t\t\t\t\t<h4>C - Datos de la Retenci\u00f3n Practicada</h4>\n\t\t\t\t\t<br>\n\n\t\t\t\t\t{% if retencion.categoria == \"Ganancias\" %}\n\t\t\t\t\t\t<p><b>Impuesto:</b> {{ impuesto_de_retencion.categoria }}</p>\n\t\t\t\t\t\t{% if impuesto_de_retencion.regimen %}\n\t\t\t\t\t\t\t{% set regimen = frappe.get_doc(\"Alicuotas Montos Ganancia\", impuesto_de_retencion.regimen) %}\n\t\t\t\t\t\t\t<p><b>R\u00e9gimen:</b> {{regimen.concepto_referencia }}</p>\n\t\t\t\t\t\t{% endif %}\n\t\t\t\t\t\t\n\t\t\t\t\t\t<p><b>Comprobante que origina la Retenci\u00f3n:</b> 06 - Orden de Pago {{payment.name}}</p>\n\t\t\t\t\t\t<p><b>Base de la retencion:</b> $ {{\"%.2f\" % retencion.base | float}}</p>\n\t\t\t\t\t\t<p><b>Monto de la Retenci\u00f3n:</b> $ {{ \"%.2f\" % retencion.monto | float }}</p>\n\t\t\t\t\t{% else %}\n\t\t\t\t\t\t{% if tipo_de_calculo_iibb != \"ARBA\" %}\n\t\t\t\t\t\t\t<p><b>Impuesto:</b> {{ impuesto_de_retencion.categoria }}</p>\n\t\t\t\t\t\t\t<p><b>R\u00e9gimen:</b> {{ retencion.retencion }}</p>\n\t\t\t\t\t\t\t<p><b>Comprobante que origina la Retenci\u00f3n:</b> 06 - Orden de Pago {{ payment.name }}</p>\n\t\t\t\t\t\t\t<p><b>Base imponible:</b> $ {{ \"%.2f\" % retencion.base | float }}</p>\n\t\t\t\t\t\t\t<p><b>Al\u00edcuota:</b> % {{ \"%.2f\" % retencion.alicuota | float }}</p>\n\t\t\t\t\t\t\t<p><b>Monto de la Retenci\u00f3n:</b> $ {{ \"%.2f\" % retencion.monto | float }}</p>\n\t\t\t\t\t\t{% else %}\n\t\t\t\t\t\t\t<p><b>Fecha de la operacion: </b> {{ retencion.fecha }}\n\t\t\t\t\t\t\t<p><b>C\u00f3digo de operacion: </b> {{ retencion.parent }}\n\t\t\t\t\t\t\t<p><b>Base imponible:</b> $ {{ \"%.2f\" % retencion.base | float }}</p>\n\t\t\t\t\t\t\t<p><b>Al\u00edcuota:</b> % { {\"%.2f\" % retencion.alicuota | float }}</p>\n\t\t\t\t\t\t\t<p><b>Monto de la Retenci\u00f3n:</b> $ {{ \"%.2f\" % retencion.monto | float }}</p>\n\t\t\t\t\t\t{% endif %}\n\t\t\t\t\t{% endif %}\n\t\t\t\t\t<br>\n\t\t\t\t\t<p><b>Firma del Agente de Retenci\u00f3n</b></p>\n\t\t\t\t\t<br>\n\t\t\t\t\t<br>\n\t\t\t\t\t<br>\n\t\t\t\t\t<br>\n\t\t\t\t\t<p><b>Aclaraci\u00f3n:</b></p>\n\t\t\t\t\t{% if tipo_de_calculo_iibb == \"ARBA\" %}\n\t\t\t\t\t\t<p><b>Sello:</b></p>\n\t\t\t\t\t\t<br><br>\n\t\t\t\t\t\t<br>\n\t\t\t\t\t\t<br>\n\t\t\t\t\t\t<p><b>Lugar y Fecha:</b></p>\n\t\t\t\t\t\t<br>\n\t\t\t\t\t\t<br>\n\t\t\t\t\t\t<p class=\"text-center\"><small>El presente formulario se emite solo en Original - Normativa: DN \"B\" 43/1996</small></p>\n\t\t\t\t\t{% else %}\n\t\t\t\t\t\t<p><b>Cargo:</b></p>\n\t\t\t\t\t\t<br><br>\n\t\t\t\t\t{% endif %}\n\t\t\t\t\t<p style=\"border:1px solid black;padding: 3%;\">Declaro que los datos consignados en este Formulario son correctos y completos y que he confeccionado la presente utilizando la aplicaci\u00f3n (software) entregada y aprobada por la AFIP sin omitir ni falsear dato alguno que deba contener, siendo fiel expresi\u00f3n de la verdad.</p>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</section>\n\t<div class=\"page-break\"></div>\n{% endfor %}\n{% endif %}\n",
    "idx": 0,
    "line_breaks": 0,
    "modified": "2023-02-03 16:22:27.453594",
    "modified_by": "Administrator",
    "module": "Test",
    "name": "Orden de Pago",
    "owner": "Administrator",
    "print_format_builder": 0,
    "print_format_type": "Jinja",
    "raw_printing": 0,
    "show_section_headings": 0,
    "standard": "Yes"
   }